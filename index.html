<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ thống Đánh giá, Xếp loại Viên chức</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Blue & Neutrals -->
    <!-- Application Structure Plan: Ứng dụng được thiết kế theo cấu trúc dashboard một trang (single-page dashboard) để tối ưu trải nghiệm người dùng. Bố cục được chia thành hai cột chính: cột bên trái dành cho các biểu mẫu nhập liệu (Thêm viên chức, Giao việc) và cột bên phải hiển thị dữ liệu trực quan (Biểu đồ tổng quan, Danh sách công việc đã giao). Cấu trúc này cho phép người quản lý vừa nhập liệu vừa theo dõi kết quả ngay lập tức mà không cần chuyển trang, tạo ra một luồng công việc liền mạch và hiệu quả. -->
    <!-- Visualization & Content Choices: 
        - Quản lý Viên chức -> Form HTML -> Thao tác nhập liệu trực tiếp -> Dễ dàng thêm mới, dữ liệu được cập nhật ngay lập tức vào dropdown giao việc.
        - Giao việc & Chấm điểm -> Form HTML với dropdown (Ref) -> Liên kết dữ liệu giữa các bảng -> Đảm bảo tính toàn vẹn dữ liệu, giảm thiểu lỗi nhập liệu.
        - Danh sách công việc -> Bảng HTML tương tác -> Hiển thị, so sánh, theo dõi -> Cung cấp cái nhìn tổng quan về các công việc đã giao, có thể cập nhật tiến độ trực tiếp.
        - Tổng quan tiến độ -> Biểu đồ tròn (Doughnut Chart) bằng Chart.js (Canvas) -> Trực quan hóa dữ liệu -> Giúp người quản lý nắm bắt nhanh trạng thái hoàn thành công việc chung của các viên chức.
        - Tải file -> Input type="file" -> Đính kèm tài liệu liên quan -> Lưu trữ tập trung, dễ dàng tra cứu.
        - Toàn bộ lựa chọn đều tập trung vào tính tương tác, cập nhật theo thời gian thực và tránh sử dụng đồ họa SVG/Mermaid.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        .task-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .task-card:hover {
            transform: translateY(-4px);
box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-lg p-5 md:p-8">

        <header class="flex items-center pb-6 border-b border-gray-200">
            <img src="https://placehold.co/80x80/3b82f6/ffffff?text=BVBL" alt="Logo Trung tâm Y tế Bảo Lâm" class="rounded-full">
            <div class="ml-4">
                <h1 class="text-2xl md:text-3xl font-bold text-gray-800">HỆ THỐNG ĐÁNH GIÁ, XẾP LOẠI VIÊN CHỨC</h1>
                <p class="text-sm text-gray-500">TRUNG TÂM Y TẾ KHU VỰC BẢO LÂM</p>
            </div>
        </header>

        <main class="mt-8 grid grid-cols-1 lg:grid-cols-12 gap-8">

            <div class="lg:col-span-4 space-y-8">
                <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4">1. Quản lý viên chức</h2>
                    <form id="form-vien-chuc" class="space-y-4">
                        <input type="text" name="hoVaTen" placeholder="Họ và tên" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                        <input type="email" name="email" placeholder="Email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                        <input type="text" name="phongBan" placeholder="Phòng ban" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                        <input type="text" name="chucDanh" placeholder="Chức danh" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                        <button type="submit" class="w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-300">Thêm viên chức</button>
                    </form>
                </div>

                <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4">2. Giao công việc & chấm điểm</h2>
                    <form id="form-phan-cong" class="space-y-4">
                        <select id="select-vien-chuc" name="idVienChuc" class="w-full p-3 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                            <option value="">Chọn viên chức</option>
                        </select>
                        <select id="select-cong-viec" name="idCongViec" class="w-full p-3 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                            <option value="">Chọn công việc</option>
</select>
                        <div>
                            <label for="phanTramHoanThanh" class="block text-sm font-medium text-gray-600 mb-1">% Hoàn thành (0-100)</label>
                            <input type="number" id="phanTramHoanThanh" name="phanTramHoanThanh" min="0" max="100" value="0" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                        </div>
                         <div>
                            <label for="fileDinhKem" class="block text-sm font-medium text-gray-600 mb-1">3. Upload file</label>
                            <input type="file" id="fileDinhKem" name="fileDinhKem" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                        </div>
                        <button type="submit" class="w-full bg-green-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors duration-300">Thêm công việc</button>
                    </form>
                </div>
                 <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4">4. Form mẫu riêng</h2>
                    <div class="space-y-2">
                         <a href="#" class="text-blue-600 hover:underline">Form Tự Đánh Giá</a> |
                         <a href="#" class="text-blue-600 hover:underline">Form Chấm điểm Nhân Viên</a> |
                         <a href="#" class="text-blue-600 hover:underline">Form Chấm điểm Lần 2</a>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-8">
                <div class="bg-gray-50 p-6 rounded-xl border border-gray-200 h-full">
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white p-4 rounded-lg shadow">
                             <h3 class="font-semibold text-center text-gray-600">Tổng quan công việc</h3>
                            <div class="chart-container">
                                <canvas id="overviewChart"></canvas>
                            </div>
                        </div>
                         <div class="bg-white p-4 rounded-lg shadow flex flex-col justify-center items-center space-y-2">
                             <h3 class="font-semibold text-center text-gray-600">Thống kê chính</h3>
                             <div class="text-center">
                                 <p class="text-4xl font-bold text-blue-600" id="total-tasks">0</p>
                                 <p class="text-gray-500">Tổng công việc</p>
                             </div>
                             <div class="text-center">
<p class="text-4xl font-bold text-green-600" id="completed-tasks">0</p>
                                 <p class="text-gray-500">Đã hoàn thành</p>
                             </div>
                             <div class="text-center">
                                 <p class="text-4xl font-bold text-yellow-500" id="in-progress-tasks">0</p>
                                 <p class="text-gray-500">Đang thực hiện</p>
                             </div>
                        </div>
                    </div>
                    
                    <h2 class="text-xl font-semibold text-gray-700 mb-4">Danh sách công việc đã giao</h2>
                    <div id="danh-sach-phan-cong" class="space-y-4">
                        <p class="text-gray-500 text-center">Chưa có công việc nào được giao.</p>
                    </div>
                </div>
            </div>

        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const uniqueId = () => `id_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;

    let vienChucData = [
        { id: uniqueId(), hoVaTen: 'Nguyễn Văn An', email: 'an.nv@example.com', phongBan: 'Khoa Nội', chucDanh: 'Bác sĩ' },
        { id: uniqueId(), hoVaTen: 'Trần Thị Bình', email: 'binh.tt@example.com', phongBan: 'Khoa Ngoại', chucDanh: 'Y tá' }
    ];

    let congViecGocData = [
        { id: uniqueId(), tenCongViec: 'Khám và điều trị bệnh nhân nội trú', moTa: 'Thực hiện khám, chẩn đoán và đưa ra phác đồ điều trị cho bệnh nhân.' },
        { id: uniqueId(), tenCongViec:
